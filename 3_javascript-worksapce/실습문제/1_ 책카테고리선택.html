<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>책 카테고리 선택</title>

    <style>
        #fs1{
            width: 700px;
        }
        #area1{
            width: 725px;
            height: 200px;
            border: 1px solid red;
        }
    </style>
</head>
<body>
    
    <h1>Pratice1</h1>

    <form action="">
        <fieldset id="fs1">
            <legend>취미</legend>
            <input type="checkbox"  name="all" onclick='selectAll(this)'>전체선택
            <input type="checkbox"  name="select" value="종합" onclick='checkSelectAll(this)'>종합
            <input type="checkbox"  name="select" value="소설" onclick='checkSelectAll(this)'>소설
            <input type="checkbox"  name="select" value="시/에세이" onclick='checkSelectAll(this)'>시/에세이
            <input type="checkbox"  name="select" value="경제/경영" onclick='checkSelectAll(this)'>경제/경영
            <input type="checkbox"  name="select" value="자기계발" onclick='checkSelectAll(this)'>자기계발
            <input type="checkbox"  name="select" value="아동" onclick='checkSelectAll(this)'>아동
            <br>
            <input type="checkbox"  name="select" value="여행" onclick='checkSelectAll(this)'>여행
            <input type="checkbox"  name="select" value="과학" onclick='checkSelectAll(this)'>과학
            <input type="checkbox"  name="select" value="역사/문화" onclick='checkSelectAll(this)'>역사/문화
            <input type="checkbox"  name="select" value="외국어" onclick='checkSelectAll(this)'>외국어
            <input type="checkbox"  name="select" value="컴퓨터" onclick='checkSelectAll(this)'>컴퓨터
            <input type="checkbox"  name="select" value="만화" onclick='checkSelectAll(this)'>만화
        </fieldset>

        <br>

        <button type="button" onclick="CategorySelect()">카테고리 선택</button>
        <div id="area1" name="category"></div>


        
   
            <script> 

            /*
                리펙토링 : 개발자가 소스코드를 효율적으로 관리하기 위해, 
                          작업을 완료하고난 후, 다듬는 행위
            */
                const area1 = document.getElementById("area1");

                const nameAll = document.querySelector('input[name="all"]');

                const nameSelect = document.querySelectorAll('input[name="select"]');

                

                
                //모든요소 선택시, 전체선택 체크, 
                //하나라도 미체크시 , 전체선택 체크해제
                function checkSelectAll()  {
                    // 값이 매번 바뀌는 checkeds 변수는 전역변수로 빼면, 바뀐 상황을 보여줄수없다.
                    let checkeds = document.querySelectorAll('input[name="select"]:checked');

                    if(nameSelect.length === checkeds.length)  {
                        nameAll.checked = true;
                    }else {
                        nameAll.checked = false;
                    }
                }


                //전체선택 선택 시, 모든요소 체크하기
                function selectAll()  {
                    
                    for(let i=0; i<nameSelect.length; i++){
                        nameSelect[i].checked = nameAll.checked;
                    }
                }
                


                //카테고리 선택 
                function CategorySelect(){
    
                    let checkeds = document.querySelectorAll('input[name="select"]:checked');

                    for(let i=0; i<checkeds.length; i++){
                            area1.innerHTML += checkeds[i].value + " ";
                    }
                }
            </script>
         </form>
</body>
</html>